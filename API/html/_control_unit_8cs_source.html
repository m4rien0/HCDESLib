<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HCDESLib: C:/Users/furian.MBI/Documents/Auckland/HCDESLib/Simulation Core/HCCMElements/Control Units/ControlUnit.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HCDESLib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_control_unit_8cs_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ControlUnit.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_simulation_core.html">SimulationCore</a>.<a class="code" href="namespace_simulation_core_1_1_simulation_classes.html">SimulationClasses</a>;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections.Generic;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Linq;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Text;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Threading.Tasks;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_simulation_core.html">SimulationCore</a>.HCCMElements</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">   15</a></span>&#160;    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">        #region Constructor</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a03b429dbcd272509795e1e21f61a3e36">   24</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a03b429dbcd272509795e1e21f61a3e36">ControlUnit</a>(<span class="keywordtype">string</span> name,</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                           <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> parentControlUnit,</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                           <a class="code" href="class_simulation_core_1_1_simulation_classes_1_1_simulation_model.html">SimulationModel</a> parentSimulationModel)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            </div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            _name = name;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            _parentControlUnit = parentControlUnit;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            _parentSimulationModel = parentSimulationModel;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            _rael = <span class="keyword">new</span> List&lt;ActivityRequest&gt;();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            _currentActivitesPerType = <span class="keyword">new</span> Dictionary&lt;string, List&lt;Activity&gt;&gt;();</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            _childControlUnits = <span class="keyword">new</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a>[] {};</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            _delegateInbox = <span class="keyword">new</span> List&lt;IDelegate&gt;();</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            _delegateOutBox = <span class="keyword">new</span> List&lt;IDelegate&gt;();</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            _currentActivities = <span class="keyword">new</span> List&lt;Activity&gt;();</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            _delegateHandlingMethods = <span class="keyword">new</span> Dictionary&lt;Type, HandleDelegateOfType&gt;();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            _controlledEntities = <span class="keyword">new</span> Dictionary&lt;Type, HashSet&lt;Entity&gt;&gt;();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            _allControlledEntities = <span class="keyword">new</span> List&lt;Entity&gt;();</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            _stateData = <span class="keyword">new</span> Dictionary&lt;DateTime, object&gt;();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        } <span class="comment">// end of ControlUnit</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// General Members</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">        #region Name</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">string</span> _name;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">public</span> <span class="keywordtype">string</span> Name</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="keywordflow">return</span> _name;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        } <span class="comment">// end of Name</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">        #region ParentSimulationModel</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_simulation_core_1_1_simulation_classes_1_1_simulation_model.html">SimulationModel</a> _parentSimulationModel;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_simulation_core_1_1_simulation_classes_1_1_simulation_model.html">SimulationModel</a> ParentSimulationModel</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <span class="keywordflow">return</span> _parentSimulationModel;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        } <span class="comment">// end of ParentSimulationModel</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment">// General Methods</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">        #region CustomInitialize</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a90dadf257f9a054fb6083a6b1dd1d534">   92</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a90dadf257f9a054fb6083a6b1dd1d534">CustomInitialize</a>(DateTime startTime, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        { </div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        </div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        } <span class="comment">// end of CustomInitialize</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">        #region Initialize</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4889fed46eb0abbdaef9bbf549f5d90a">  108</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4889fed46eb0abbdaef9bbf549f5d90a">Initialize</a>(DateTime startTime, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            CustomInitialize(startTime, simEngine);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> childControl <span class="keywordflow">in</span> ChildControlUnits)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                childControl.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4889fed46eb0abbdaef9bbf549f5d90a">Initialize</a>(startTime, simEngine);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        } <span class="comment">// end of InitializeActiveEntities</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// Connection to rest of model</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">        #region ParentControlUnit</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keyword">protected</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> _parentControlUnit;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> ParentControlUnit</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="keywordflow">return</span> _parentControlUnit;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        } <span class="comment">// end of ParentControlUnit</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">        #region ChildControlUnits</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keyword">private</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a>[] _childControlUnits;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a>[] ChildControlUnits</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">return</span> _childControlUnits;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        } <span class="comment">// end of ChildControlUnits</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">        #region SetChildControlUnits</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa4453098c9b87aaabd944d27c892bb34">  160</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa4453098c9b87aaabd944d27c892bb34">SetChildControlUnits</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a>[] childs)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            _childControlUnits = childs;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        } <span class="comment">// end of SetChildControlUnits</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">        #region FindSmallestJointControl</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a0ab106bafebb91d99816babe16006171">  177</a></span>&#160;        <span class="keyword">public</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a0ab106bafebb91d99816babe16006171">FindSmallestJointControl</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> otherControl)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">if</span> (ChildControlUnits.Contains(otherControl))</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">this</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordflow">if</span> (ParentControlUnit == null)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    <span class="keywordflow">return</span> null;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">return</span> ParentControlUnit.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a0ab106bafebb91d99816babe16006171">FindSmallestJointControl</a>(otherControl);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        } <span class="comment">// end of FindSmallestJointControl</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="comment">// Request Handling</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">        #region RAEL</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keyword">protected</span> List&lt;ActivityRequest&gt; _rael;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keyword">public</span> List&lt;ActivityRequest&gt; RAEL</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a9b5aa3d4737ceb8310badb24ce476169">  205</a></span>&#160;        {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="keywordflow">return</span> _rael;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        } <span class="comment">// end of RAEL</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">        #region AddRequest</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a5c82aae599d8a087bda51c7bce209121">  220</a></span>&#160;        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a5c82aae599d8a087bda51c7bce209121">AddRequest</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity_request.html">ActivityRequest</a> req)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            _rael.Add(req);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            _behaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        } <span class="comment">// end of AddRequest</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">        #region RemoveRequest</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa00209cd318f2fb3bec54fe764d97652">  234</a></span>&#160;        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa00209cd318f2fb3bec54fe764d97652">RemoveRequest</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity_request.html">ActivityRequest</a> req)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            _rael.Remove(req);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            _behaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        } <span class="comment">// end of RemoveRequest</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">        #region ClearRAEL</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a15f40a53c6c5246561ea19392489e1f5">  247</a></span>&#160;        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a15f40a53c6c5246561ea19392489e1f5">ClearRAEL</a>()</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            _rael.Clear();</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            _behaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        } <span class="comment">// end of ClearRAEL</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="comment">// Own State</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor">        #region StateData</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keyword">private</span> Dictionary&lt;DateTime,object&gt; _stateData;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keyword">public</span> Dictionary&lt;DateTime,object&gt; StateData</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a51b80cf1eebe463edcb3a7e2f1355878">  267</a></span>&#160;        {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">return</span> _stateData;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keyword">set</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                _stateData = value;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        } <span class="comment">// end of StateData</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">        #region AllControlledEntities</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keyword">private</span> List&lt;Entity&gt; _allControlledEntities;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keyword">public</span> IReadOnlyList&lt;Entity&gt; AllControlledEntities</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keywordflow">return</span> _allControlledEntities;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        } <span class="comment">// end of AllControlledEntities</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">        #region ControlledEntities</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keyword">private</span> Dictionary&lt;Type,HashSet&lt;Entity&gt;&gt; _controlledEntities;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keyword">public</span> IReadOnlyDictionary&lt;Type, HashSet&lt;Entity&gt;&gt; ControlledEntities</div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa3ea3aa1c41fb792989d62da8325698c">  302</a></span>&#160;        {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keywordflow">return</span> _controlledEntities;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        } <span class="comment">// end of ControlledDefaultEntities</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">        #endregion        </span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">        #region GetEntitiesOfType</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a54be25f73142c741a0feaf68580a0c7a">  318</a></span>&#160;        <span class="keyword">public</span> List&lt;Entity&gt; <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a54be25f73142c741a0feaf68580a0c7a">GetEntitiesOfType</a>(Type type)</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">if</span> (!ControlledEntities.ContainsKey(type))</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;Entity Type not controlled by Control Unit&quot;</span>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">return</span> ControlledEntities[type].ToList();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        } <span class="comment">// end of GetDefaultEntitiesOfType</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">        #region CurrentActivitiesPerType</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keyword">private</span> Dictionary&lt;string, List&lt;Activity&gt;&gt; _currentActivitesPerType;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keyword">public</span> Dictionary&lt;string, List&lt;Activity&gt;&gt; CurrentActivitiesPerType</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#ae39305c46818d3c06de97894b410ee91">  337</a></span>&#160;        {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="keywordflow">return</span> _currentActivitesPerType;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        } <span class="comment">// end of CurrentActivities</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">        #region CurrentActivities</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keyword">private</span> List&lt;Activity&gt; _currentActivities;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keyword">public</span> List&lt;Activity&gt; CurrentActivities</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a9f4bff56571dc9e479a48bccc9125563">  354</a></span>&#160;        {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keywordflow">return</span> _currentActivities;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        } <span class="comment">// end of CurrentActivities</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="comment">// Change State</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">        #region AddEntity</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a3a975f2b69a042ac14141f2b011d0167">  373</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a3a975f2b69a042ac14141f2b011d0167">AddEntity</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html">Entity</a> entity)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="comment">// if entity type is not controlled yet, type is added</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">if</span> (!_controlledEntities.ContainsKey(entity.GetType()))</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                _controlledEntities.Add(entity.GetType(), <span class="keyword">new</span> HashSet&lt;Entity&gt;());</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="comment">// entity is added to controlled entities and parent control unit is set</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            _controlledEntities[entity.GetType()].Add(entity);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            _allControlledEntities.Add(entity);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            entity.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html#acf748ea5c593457572db419a6680e957">ParentControlUnit</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            _behaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        } <span class="comment">// end of AddEntity</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="preprocessor">        #region AddEntities</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#af22ebba7f78eaaba0abda181e9199c59">  398</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#af22ebba7f78eaaba0abda181e9199c59">AddEntities</a>(IEnumerable&lt;Entity&gt; entities)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html">Entity</a> entity <span class="keywordflow">in</span> entities)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                AddEntity(entity);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            _behaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        } <span class="comment">// end AddEntities</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="preprocessor">        #region RemoveEntity</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a00aeb796f1372d4aba9d2f1433696326">  417</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a00aeb796f1372d4aba9d2f1433696326">RemoveEntity</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html">Entity</a> entity)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">if</span> (!_controlledEntities.ContainsKey(entity.GetType()))</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;Control Unit does not control Entity&quot;</span>);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                _controlledEntities[entity.GetType()].Remove(entity);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                entity.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html#acf748ea5c593457572db419a6680e957">ParentControlUnit</a> = null;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            _allControlledEntities.Remove(entity);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        } <span class="comment">// end of RemoveEntity</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="preprocessor">        #region AddActivity</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a6997547152c9d598ab50327fa9b7b5b4">  441</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a6997547152c9d598ab50327fa9b7b5b4">AddActivity</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity.html">Activity</a> activity)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span> (!_currentActivitesPerType.ContainsKey(activity.GetType().Name))</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                _currentActivitesPerType.Add(activity.GetType().Name, <span class="keyword">new</span> List&lt;Activity&gt;());</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            _currentActivitesPerType[activity.GetType().Name].Add(activity);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            _currentActivities.Add(activity);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        } <span class="comment">// end of AddActivity</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">        #region RemoveActivity</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a1878f49ed1f07cdc8e75b8e190b8a1ca">  462</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a1878f49ed1f07cdc8e75b8e190b8a1ca">RemoveActivity</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity.html">Activity</a> activity)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="keywordflow">if</span> (_currentActivitesPerType.ContainsKey(activity.GetType().Name))</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                _currentActivitesPerType[activity.GetType().Name].Remove(activity);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            } <span class="comment">// end if </span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            _currentActivities.Remove(activity);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        } <span class="comment">// end of RemoveActivity</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">// Rule Sets</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="preprocessor">        #region PerformCustomRules</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keywordtype">bool</span> PerformCustomRules(DateTime time, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor">        #region PerformRules</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#ad9b777d29d9505a65085e61f1432b6b5">  500</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#ad9b777d29d9505a65085e61f1432b6b5">PerformRules</a>(DateTime time, out <span class="keywordtype">bool</span> eventLaunched, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            eventLaunched = <span class="keyword">false</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (BehaviorOccured == <span class="keyword">false</span>)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="comment">// Perform rules of all child control units</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <span class="keywordflow">foreach</span> (<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> childUnit <span class="keywordflow">in</span> ChildControlUnits)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                    <span class="keywordtype">bool</span> childLaunched = <span class="keyword">false</span>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                    childUnit.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#ad9b777d29d9505a65085e61f1432b6b5">PerformRules</a>(time, out childLaunched, simEngine);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                    eventLaunched = eventLaunched || childLaunched;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                } <span class="comment">// end foreach</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            } <span class="comment">// end if </span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="comment">// Perform differentRule sets of current control unit</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            eventLaunched = PerformCustomRules(time, simEngine);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordtype">bool</span> delegateSent = <span class="keyword">true</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            List&lt;IDelegate&gt; handledDelegates = HandleReceivedDelegates(time, simEngine);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">if</span> (handledDelegates.Count &gt; 0)</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                eventLaunched = <span class="keyword">true</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                RemoveHandledDelegatesFromInbox(handledDelegates);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            } <span class="comment">// end if</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            delegateSent = SendAllDelegates(time, simEngine);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            eventLaunched = eventLaunched || delegateSent;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">if</span> (ChildControlUnits == null)</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="comment">// Perform rules of all child control units</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> childUnit <span class="keywordflow">in</span> ChildControlUnits)</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordtype">bool</span> childLaunched = <span class="keyword">false</span>;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                childUnit.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#ad9b777d29d9505a65085e61f1432b6b5">PerformRules</a>(time, out childLaunched, simEngine);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                eventLaunched = eventLaunched || childLaunched;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        } <span class="comment">// end of PerformRules</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">        #region BehaviorOccured</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">bool</span> _behaviorOccured = <span class="keyword">false</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keyword">virtual</span> <span class="keyword">public</span> <span class="keywordtype">bool</span> BehaviorOccured</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aaf47369d9e28b9b669af2d5f93d1cb57">  558</a></span>&#160;        {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="keywordflow">return</span> _behaviorOccured;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keyword">set</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                _behaviorOccured = value;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        } <span class="comment">// end of NeedsUpdate</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">        #region SetRecursiveNeedsUpdateToFalse</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a9269bc0295d7726e44ccd0d308cac776">  577</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a9269bc0295d7726e44ccd0d308cac776">SetRecursiveNeedsUpdateToFalse</a>()</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            BehaviorOccured = <span class="keyword">false</span>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> childControl <span class="keywordflow">in</span> ChildControlUnits)</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                childControl.<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a9269bc0295d7726e44ccd0d308cac776">SetRecursiveNeedsUpdateToFalse</a>();</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        } <span class="comment">// end of SetRecursiveNeedsUpdateToFalse</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// Delegates</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">        #region DelegateInbox</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keyword">private</span> List&lt;IDelegate&gt; _delegateInbox;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="preprocessor">        #endregion                </span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="preprocessor">        #region RemoveHandledDelegatesFromInbox</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> RemoveHandledDelegatesFromInbox(IEnumerable&lt;IDelegate&gt; handledDelegates)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> del <span class="keywordflow">in</span> handledDelegates)</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                _delegateInbox.Remove(del);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        </div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        } <span class="comment">// end of RemoveHandledDelegatesFromInbox</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor">        #region DelegateOutBox</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keyword">private</span> List&lt;IDelegate&gt; _delegateOutBox;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keyword">public</span> List&lt;IDelegate&gt; DelegateOutBox</div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a450ff42f0a252ff4ef8f4b5c6f1e3fd7">  627</a></span>&#160;        {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                <span class="keywordflow">return</span> _delegateOutBox;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        } <span class="comment">// end of DelegateOutBox</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        </div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="preprocessor">        #region SendDelegates</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a6209d32c9661de07aab1848083533687">  644</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a6209d32c9661de07aab1848083533687">SendAllDelegates</a>(DateTime time, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine)</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <span class="keywordtype">bool</span> delSent = <span class="keyword">false</span>;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> del <span class="keywordflow">in</span> DelegateOutBox)</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                SendDelegateTo(ParentControlUnit, del);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                delSent = <span class="keyword">true</span>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            DelegateOutBox.Clear();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">return</span> delSent;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        } <span class="comment">// end of SendDelegates</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">        #region HandleReceivedDelegates</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4f85fe01ec7bc2c8c435b702758ec240">  669</a></span>&#160;        <span class="keyword">public</span> <span class="keyword">virtual</span> List&lt;IDelegate&gt; <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4f85fe01ec7bc2c8c435b702758ec240">HandleReceivedDelegates</a>(DateTime time, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            List&lt;IDelegate&gt; handledDelegates = <span class="keyword">new</span> List&lt;IDelegate&gt;();</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">foreach</span> (<a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> del <span class="keywordflow">in</span> _delegateInbox)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">if</span> (DelegateHandlingMethods.ContainsKey(del.GetType()))</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    <span class="keywordflow">if</span> (DelegateHandlingMethods[del.GetType()](del, <span class="keyword">this</span>, time, simEngine))</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        handledDelegates.Add(del);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;No handling method for delegate of type&quot;</span> + del.GetType().ToString() + <span class="stringliteral">&quot;found!&quot;</span>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                } <span class="comment">// end if</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            } <span class="comment">// end foreach</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <span class="keywordflow">return</span> handledDelegates;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        } <span class="comment">// end of HandleReceiveDelegates</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor">        #region SendDeleateTo</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#acdf548f1823c811b9347c7b5ec2885a6">  698</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#acdf548f1823c811b9347c7b5ec2885a6">SendDelegateTo</a>(<a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> destination, <a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> del)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            BehaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            destination.ReceiveDelegate(del);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        } <span class="comment">// end of SendDelegateTo</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="preprocessor">        #region ReceiveDelegate</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> ReceiveDelegate(<a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> del)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            _delegateInbox.Add(del);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            BehaviorOccured = <span class="keyword">true</span>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        } <span class="comment">// end of ReceiveDelegate</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="preprocessor">        #region DelegateHandlingMethods</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keyword">public</span> delegate <span class="keywordtype">bool</span> HandleDelegateOfType(<a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> del, <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">ControlUnit</a> controlUnit, DateTime time, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keyword">protected</span> Dictionary&lt;Type, HandleDelegateOfType&gt; _delegateHandlingMethods;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keyword">public</span> Dictionary&lt;Type, HandleDelegateOfType&gt; DelegateHandlingMethods</div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a8d719d8dfcc990a419c52114097edf03">  739</a></span>&#160;        {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keyword">get</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <span class="keywordflow">return</span> _delegateHandlingMethods;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        } <span class="comment">// end of DelegateHandlingMethods</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="comment">// Enter and Leave of Entities</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">        #region EntityEnterControlUnit</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        </div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keyword">abstract</span> <span class="keyword">public</span> <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_event.html">Event</a> EntityEnterControlUnit(DateTime time, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine, <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html">Entity</a> entity, <a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> originDelegate);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="preprocessor">        #region EntityLeaveControlUnit</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keywordtype">void</span> EntityLeaveControlUnit(DateTime time, <a class="code" href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">ISimulationEngine</a> simEngine, <a class="code" href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html">Entity</a> entity, <a class="code" href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">IDelegate</a> originDelegate);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="comment">// Methods</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="comment">//--------------------------------------------------------------------------------------------------</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">        #region ToString</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">string</span> ToString()</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">return</span> Name;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        } <span class="comment">// end of ToString</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    } <span class="comment">// end of ControlUnit</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div><div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity_request_html"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity_request.html">SimulationCore.HCCMElements.ActivityRequest</a></div><div class="ttdoc">Base class for activity requests </div><div class="ttdef"><b>Definition:</b> <a href="_activity_request_8cs_source.html#l00014">ActivityRequest.cs:14</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a9269bc0295d7726e44ccd0d308cac776"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a9269bc0295d7726e44ccd0d308cac776">SimulationCore.HCCMElements.ControlUnit.SetRecursiveNeedsUpdateToFalse</a></div><div class="ttdeci">void SetRecursiveNeedsUpdateToFalse()</div><div class="ttdoc">Method that sets all behavior occured flags of all control units to false, recursively calls itself o...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00577">ControlUnit.cs:577</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a15f40a53c6c5246561ea19392489e1f5"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a15f40a53c6c5246561ea19392489e1f5">SimulationCore.HCCMElements.ControlUnit.ClearRAEL</a></div><div class="ttdeci">virtual void ClearRAEL()</div><div class="ttdoc">Clears the whole RAEL List </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00247">ControlUnit.cs:247</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a6209d32c9661de07aab1848083533687"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a6209d32c9661de07aab1848083533687">SimulationCore.HCCMElements.ControlUnit.SendAllDelegates</a></div><div class="ttdeci">virtual bool SendAllDelegates(DateTime time, ISimulationEngine simEngine)</div><div class="ttdoc">Sends all delegates in the outbox to their destination control unit. </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00644">ControlUnit.cs:644</a></div></div>
<div class="ttc" id="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate_html"><div class="ttname"><a href="interface_simulation_core_1_1_h_c_c_m_elements_1_1_i_delegate.html">SimulationCore.HCCMElements.IDelegate</a></div><div class="ttdoc">Interface for all messages (delegates) to send between control units. The only propoerty required for...</div><div class="ttdef"><b>Definition:</b> <a href="_delegate_8cs_source.html#l00014">Delegate.cs:14</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_acdf548f1823c811b9347c7b5ec2885a6"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#acdf548f1823c811b9347c7b5ec2885a6">SimulationCore.HCCMElements.ControlUnit.SendDelegateTo</a></div><div class="ttdeci">void SendDelegateTo(ControlUnit destination, IDelegate del)</div><div class="ttdoc">Sends a single delegate to a destinition control unit </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00698">ControlUnit.cs:698</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity_html_acf748ea5c593457572db419a6680e957"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html#acf748ea5c593457572db419a6680e957">SimulationCore.HCCMElements.Entity.ParentControlUnit</a></div><div class="ttdeci">virtual ControlUnit ParentControlUnit</div><div class="ttdoc">Parent control unit of the entity, this is not set via the constructor, but upon adding of the entity...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_8cs_source.html#l00057">Entity.cs:57</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a1878f49ed1f07cdc8e75b8e190b8a1ca"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a1878f49ed1f07cdc8e75b8e190b8a1ca">SimulationCore.HCCMElements.ControlUnit.RemoveActivity</a></div><div class="ttdeci">void RemoveActivity(Activity activity)</div><div class="ttdoc">Removes an activity of the control unit. </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00462">ControlUnit.cs:462</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="namespace_system.html">System</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_ad9b777d29d9505a65085e61f1432b6b5"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#ad9b777d29d9505a65085e61f1432b6b5">SimulationCore.HCCMElements.ControlUnit.PerformRules</a></div><div class="ttdeci">void PerformRules(DateTime time, out bool eventLaunched, ISimulationEngine simEngine)</div><div class="ttdoc">Rule set of control unit. Calls Custom rule sets, child control units rules and delegate handling unt...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00500">ControlUnit.cs:500</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a3a975f2b69a042ac14141f2b011d0167"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a3a975f2b69a042ac14141f2b011d0167">SimulationCore.HCCMElements.ControlUnit.AddEntity</a></div><div class="ttdeci">virtual void AddEntity(Entity entity)</div><div class="ttdoc">Entitiy is added to the control unit, entity is automatically added to the controlled entities ...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00373">ControlUnit.cs:373</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_aa4453098c9b87aaabd944d27c892bb34"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa4453098c9b87aaabd944d27c892bb34">SimulationCore.HCCMElements.ControlUnit.SetChildControlUnits</a></div><div class="ttdeci">void SetChildControlUnits(ControlUnit[] childs)</div><div class="ttdoc">Sets the child control units of the control unit. These may not be available upon instanciation of th...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00160">ControlUnit.cs:160</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a03b429dbcd272509795e1e21f61a3e36"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a03b429dbcd272509795e1e21f61a3e36">SimulationCore.HCCMElements.ControlUnit.ControlUnit</a></div><div class="ttdeci">ControlUnit(string name, ControlUnit parentControlUnit, SimulationModel parentSimulationModel)</div><div class="ttdoc">Basic constructor. Initializes members of control unit </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00024">ControlUnit.cs:24</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a54be25f73142c741a0feaf68580a0c7a"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a54be25f73142c741a0feaf68580a0c7a">SimulationCore.HCCMElements.ControlUnit.GetEntitiesOfType</a></div><div class="ttdeci">List&lt; Entity &gt; GetEntitiesOfType(Type type)</div><div class="ttdoc">Returns all controlled entities of a certain type. </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00318">ControlUnit.cs:318</a></div></div>
<div class="ttc" id="namespace_simulation_core_html"><div class="ttname"><a href="namespace_simulation_core.html">SimulationCore</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a90dadf257f9a054fb6083a6b1dd1d534"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a90dadf257f9a054fb6083a6b1dd1d534">SimulationCore.HCCMElements.ControlUnit.CustomInitialize</a></div><div class="ttdeci">virtual void CustomInitialize(DateTime startTime, ISimulationEngine simEngine)</div><div class="ttdoc">Should be overwritten if a custom initialization is required. </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00092">ControlUnit.cs:92</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a0ab106bafebb91d99816babe16006171"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a0ab106bafebb91d99816babe16006171">SimulationCore.HCCMElements.ControlUnit.FindSmallestJointControl</a></div><div class="ttdeci">ControlUnit FindSmallestJointControl(ControlUnit otherControl)</div><div class="ttdoc">Helping function that returns the lowest joint control unit in the control tree that contains both co...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00177">ControlUnit.cs:177</a></div></div>
<div class="ttc" id="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine_html"><div class="ttname"><a href="interface_simulation_core_1_1_simulation_classes_1_1_i_simulation_engine.html">SimulationCore.SimulationClasses.ISimulationEngine</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_simulation_engine_8cs_source.html#l00010">ISimulationEngine.cs:10</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html">SimulationCore.HCCMElements.ControlUnit</a></div><div class="ttdoc">Base class of control untis. Provides basic functionality of conrol units and deals with adding/remov...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00015">ControlUnit.cs:15</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a5c82aae599d8a087bda51c7bce209121"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a5c82aae599d8a087bda51c7bce209121">SimulationCore.HCCMElements.ControlUnit.AddRequest</a></div><div class="ttdeci">virtual void AddRequest(ActivityRequest req)</div><div class="ttdoc">Adds a request to the RAEL list. Sets also behavior occured flag of the control unit to true...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00220">ControlUnit.cs:220</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a00aeb796f1372d4aba9d2f1433696326"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a00aeb796f1372d4aba9d2f1433696326">SimulationCore.HCCMElements.ControlUnit.RemoveEntity</a></div><div class="ttdeci">virtual void RemoveEntity(Entity entity)</div><div class="ttdoc">Removes entities from the controll units and all corresponding members </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00417">ControlUnit.cs:417</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_simulation_classes_1_1_simulation_model_html"><div class="ttname"><a href="class_simulation_core_1_1_simulation_classes_1_1_simulation_model.html">SimulationCore.SimulationClasses.SimulationModel</a></div><div class="ttdoc">Abstract base class of simulation models </div><div class="ttdef"><b>Definition:</b> <a href="_simulation_model_8cs_source.html#l00016">SimulationModel.cs:16</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_aa00209cd318f2fb3bec54fe764d97652"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#aa00209cd318f2fb3bec54fe764d97652">SimulationCore.HCCMElements.ControlUnit.RemoveRequest</a></div><div class="ttdeci">virtual void RemoveRequest(ActivityRequest req)</div><div class="ttdoc">Removes a request from the RAEL list. Sets also behavior occured flag of the control unit to true...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00234">ControlUnit.cs:234</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_event_html"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_event.html">SimulationCore.HCCMElements.Event</a></div><div class="ttdoc">Base class for all events </div><div class="ttdef"><b>Definition:</b> <a href="_event_8cs_source.html#l00024">Event.cs:24</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a4889fed46eb0abbdaef9bbf549f5d90a"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4889fed46eb0abbdaef9bbf549f5d90a">SimulationCore.HCCMElements.ControlUnit.Initialize</a></div><div class="ttdeci">virtual void Initialize(DateTime startTime, ISimulationEngine simEngine)</div><div class="ttdoc">Initializes the control unit, this may happen after creation of object, e.g. when start and end times...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00108">ControlUnit.cs:108</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity_html"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_entity.html">SimulationCore.HCCMElements.Entity</a></div><div class="ttdoc">Base class for all entities in simulation models. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_8cs_source.html#l00012">Entity.cs:12</a></div></div>
<div class="ttc" id="namespace_simulation_core_1_1_simulation_classes_html"><div class="ttname"><a href="namespace_simulation_core_1_1_simulation_classes.html">SimulationCore.SimulationClasses</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_simulation_engine_8cs_source.html#l00008">ISimulationEngine.cs:8</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity_html"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_activity.html">SimulationCore.HCCMElements.Activity</a></div><div class="ttdoc">The base abstract class for all activities. Provides members for start and end events, and methods to override fr the actual state changes upon start and end of the activity. Note that interruption is handled as a premature end event. Also stores and automatically sets start and end times of activity and the corresponding duration. </div><div class="ttdef"><b>Definition:</b> <a href="_activity_8cs_source.html#l00017">Activity.cs:17</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a6997547152c9d598ab50327fa9b7b5b4"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a6997547152c9d598ab50327fa9b7b5b4">SimulationCore.HCCMElements.ControlUnit.AddActivity</a></div><div class="ttdeci">void AddActivity(Activity activity)</div><div class="ttdoc">Adds an activity to current activities of control unit. </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00441">ControlUnit.cs:441</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_a4f85fe01ec7bc2c8c435b702758ec240"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#a4f85fe01ec7bc2c8c435b702758ec240">SimulationCore.HCCMElements.ControlUnit.HandleReceivedDelegates</a></div><div class="ttdeci">virtual List&lt; IDelegate &gt; HandleReceivedDelegates(DateTime time, ISimulationEngine simEngine)</div><div class="ttdoc">Handles all delegates that have been received by attempting to call the corresponding mehtods (per ty...</div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00669">ControlUnit.cs:669</a></div></div>
<div class="ttc" id="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit_html_af22ebba7f78eaaba0abda181e9199c59"><div class="ttname"><a href="class_simulation_core_1_1_h_c_c_m_elements_1_1_control_unit.html#af22ebba7f78eaaba0abda181e9199c59">SimulationCore.HCCMElements.ControlUnit.AddEntities</a></div><div class="ttdeci">void AddEntities(IEnumerable&lt; Entity &gt; entities)</div><div class="ttdoc">Adds a range of entities, adding to corresponding holding member is done automatically. </div><div class="ttdef"><b>Definition:</b> <a href="_control_unit_8cs_source.html#l00398">ControlUnit.cs:398</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b5c0f1d19303140a475bfb6ae4b035ce.html">HCDESLib</a></li><li class="navelem"><a class="el" href="dir_9bb857adcde739597befd3c7e9ac4736.html">Simulation Core</a></li><li class="navelem"><a class="el" href="dir_b89a34c28e6227704916d937c46f91a8.html">HCCMElements</a></li><li class="navelem"><a class="el" href="dir_53b369c0095f1a3d9e01757a908af51f.html">Control Units</a></li><li class="navelem"><b>ControlUnit.cs</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
